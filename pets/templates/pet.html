{% extends "base.html" %}

{% block main %}
<div class="container">
    <div class="columns is-4">
        <div class="column">

            {% if pet.verified %}
            <h4 class="is-size-3"> 
                <i class="fas fa-check-circle has-text-success" aria-hidden="true"></i> Verified: {{ pet.verified }}
            </h4>
            {% else %}
            <h4 class="is-size-3">
                <i class="fas fa-times-circle has-text-danger" aria-hidden="true"></i> Verified: {{ pet.verified }}
            </h4>
            {% endif %}
        </div>

        <div class="column">
            <h4 class="is-size-3"><i class="fas fa-chart-line has-text-link" aria-hidden="True"></i> Rank: {{ pet.ranking.0 }} of {{ pet.ranking.1 }}</h4>
        </div>
    </div>

    <div class="container">
        <img src="/{{ pet.mediafile.url }}">
        <div id="eloChart"></div>
        <div id="eloTimeChart"></div>
    </div>

<script src="https://code.highcharts.com/highcharts.js"></script>

<script>
    var residueChart = Highcharts.chart("eloChart", {
        chart: {
            plotBorderWidth: 1,
            marginLeft: 50
        },
        title: {
            text: "Rank Changes"
        },
        credits: {
            enabled: false
        },
        series: [{
            name: "ELO Rating",
            data: {{ data }},
            type: "line",
        }],
        xAxis: {
            title: {
                enabled: true,
                text:"Time"
            },
        },
        yAxis: {
            title: {
                enabled: true,
                text:"ELO Rating"
            },
        },
        legend: {
            enabled: false
        }
    });
</script>

<script>
    var residueChart = Highcharts.chart("eloTimeChart", {
        chart: {
            plotBorderWidth: 1,
            marginLeft: 50
        },
        title: {
            text: "Rank over Time"
        },
        credits: {
            enabled: false
        },
        series: [{
            name: "ELO Rating",
            data: {{ time_data }},
            type: "line",
        }],
        xAxis: {
            type: "datetime",
            title: {
                enabled: true,
                text:"Time"
            },
        },
        yAxis: {
            title: {
                enabled: true,
                text:"ELO Rating"
            },
        },
        legend: {
            enabled: false
        }
    });
</script>
</div>
{% endblock %}
